<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
		<meta charset="utf-8" /> 
		<title>Gamelab | Login Admin</title>
		<link rel="stylesheet" href="@@cgibin@@/style.css" type="text/css" />
		<style>
			body { background-color: #eee; }
			form { margin: 0; }
			h1 { max-width: 768px; 
				width: 100%;
				margin: 1em auto 0 auto; }
			fieldset { max-width: 768px; }
		</style>
		<script src="@@htdocs@@/script.js"></script>
		<script>
			function doError(err) {
				document.getElementById('loggingIn').value = 'Login';
				if (400 == err)
					document.getElementById('loginError').style.display = 'inherit';
				else
					document.getElementById('ajaxError').style.display = 'inherit';
			}
			function doSuccess() {
				document.getElementById('loggingIn').value = 'Success!';
				location.href = '@@cgibin@@/home.html';
			}
			function doSetup() {
				document.getElementById('loginError').style.display = 'none';
				document.getElementById('ajaxError').style.display = 'none';
				document.getElementById('loggingIn').value = 'Logging in...';
			}
		</script>
	</head>
	<body>
		<form action="@@cgibin@@/dologin.html" method="post" onsubmit="return(sendForm(this, doSetup, doError, doSuccess));">
			<h1>gamelab</h1>
			<fieldset>
				<div>
					<div class="legend">Administrator Login</div>
					<div class="error"><div id="loginError">Incorrect e-mail or password.</div></div>
					<div class="error"><div id="ajaxError">A technical error has occured.</div></div>
				</div>
				<div class="fields">
					<input type="email" placeholder="Email" required="required" name="email" />
					<input type="password" placeholder="Password" required="required" name="password" />
					<input id="loggingIn" type="submit" value="Login" />
				</div>
			</fieldset>
		</form>
	</body>
</html>
