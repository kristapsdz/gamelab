<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
		<meta charset="utf-8" /> 
		<title>Gamelab</title>
		<link rel="stylesheet" href="@@htdocs@@/style.css" type="text/css" />
		<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" />
		<style>
			fieldset { box-shadow: none; }
		</style>
		<script src="@@htdocs@@/script.js"></script>
		<script src="@@cgibin@@/home.js"></script>
	</head>
	<body onload="loadExpr();">
		<header>
			<a id="navButton" href="#" onclick="onNav(); return false;"><i class="fa fa-navicon"></i></a>
			<h1>gamelab</h1>
			<div id="exprCountdown"><i class="fa fa-spinner fa-spin"></i></div>
		</header>
		<div id="navParent">
			<nav id="nav">
				<ul>
					<li><a href="#defaultTab"><i class="fa fa-fw fa-gear"></i> Play</a></li>
					<li><a href="#history"><i class="fa fa-fw fa-history"></i> History</a></li>
					<li><a href="#instructions"><i class="fa fa-fw fa-info"></i> Instructions</a></li>
					<li><a href="@@cgibin@@/dologout.html"><i class="fa fa-fw fa-sign-out"></i> Logout</a></li>
				</ul>
			</nav>
		</div>
		<article id="instructions" class="tab">
			<h2>Instructions</h2>
			<p>
				Something here.
			</p>
		</article>
		<article id="history" class="tab">
			<h2>Play History</h2>
			<div id="historyLoading"><i class="fa fa-spinner fa-spin"></i></div>
			<div id="historyLoaded" class="noshow">
				<p>
				the history will go here.
				</p>
			</div>
		</article>
		<article id="defaultTab" class="tab">
			<h2 id="exprHeader">Play Game</h2>
			<div id="exprLoading"><i class="fa fa-spinner fa-spin"></i></div>
			<div id="exprLoaded" class="noshow">
				<section id="exprDone" class="noshow">
					<div>
						You've played all the games for this round &ndash; great!
						Please wait to play again.
					</div>
				</section>
				<section id="exprPlay" class="noshow">
					<h3>
						Game <span id="playGameNum"></span> of <span id="playGameMax"></span>,
						round <span id="playRoundNum"></span> of <span id="playRoundMax"></span>
					</h3>
					<p id="exprHistory"></p>
					<p id="exprMatrix"></p>
					<aside>
						<div>
							Enter your strategy mixture below.
							These must be fractions or decimal numbers with no greater than four digits following the decimal.
						</div>
					</aside>
					<form method="post" action="@@cgibin@@/doplay.json" id="playGame" onsubmit="return(playGame(this));">
						<div class="error">
							<div id="playGameErrorState" class="noshow">
								<i class="fa fa-warning"></i>
								<span>You've already played this game.  (Did you play twice?)</span>
							</div>
							<div id="playGameErrorJson" class="noshow">
								<i class="fa fa-warning"></i>
								<span>A system error occured.</span>
							</div>
							<div id="playGameErrorForm" class="noshow">
								<i class="fa fa-warning"></i>
								<span>Form not correctly filled out.</span>
							</div>
						</div>
						<input type="hidden" id="exprPlayGid" name="gid" />
						<input type="hidden" id="exprPlayRound" name="round" />
						<fieldset id="exprPlayList"></fieldset>
					</form>
				</section>
			</div>
		</article>
		<footer>
			&copy; 2014, 
			<a href="http://www.kcons.eu"><i>k</i>-Consulting</a>
			<a href="@@htdocs@@/privacy.html">Privacy</a>
		</footer>
	</body>
</html>
